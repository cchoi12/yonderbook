<div class="row">
  <h4 class="white-text">Your "<%= @shelf_name %>" shelf</h4>
  <div class="col m6 offset-m3">
    <div class="center" id="donutchart" style="width: 600px; height: 400px;"></div>
  </div>
</div>
<div class="row">
  <div class="cards-container">
    <% @isbnset.each do |isbn| %>
      <div class="card hoverable horizontal">
        <div class="card-image">
          <img src="<%= isbn[1] %>">
        </div>
        <div class="card-content">
          <small><%= isbn[2] %></small>
          <br>
          <small><em><%= isbn[3] %></em></small>
        </div>
      </div>
    <% end %>
  </div>
</div>

<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script type="text/javascript">
  google.charts.load("current", {packages:["corechart"]});
  google.charts.setOnLoadCallback(drawChart);
  const women = <%= @women %>
  const men = <%= @men %>
  function drawChart() {
    var data = google.visualization.arrayToDataTable([
      ['Gender', 'Count'],
      ['Women',     women],
      ['Men',      men],
      ['Unknown',  2]
    ]);

    var options = {
      backgroundColor: 'transparent',
      pieHole: 0.4,
    };

    var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
    chart.draw(data, options);
  }
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
<% if flash[:error] %>
  <script type="text/javascript">
    Materialize.toast("<%= flash[:error] %>", 4000)
  </script>
<% end %>

<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.100.2/js/materialize.min.js"></script>
<% if flash[:error] %>
  <script type="text/javascript">
    Materialize.toast("<%= flash[:error] %>", 4000)
  </script>
<% end %>
